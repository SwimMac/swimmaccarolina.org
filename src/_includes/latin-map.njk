<div id="map-south" style="height: 600px; width: 100%;" role="region" aria-label="Map showing the Charlotte Latin pool location" tabindex="0"></div>

<script async defer='defer' src='https://maps.googleapis.com/maps/api/js?key=AIzaSyAHae0FCfiNKtysUK7o-Jr5-u7giUETcbQ&amp;callback=initMap'></script>
<script>
 	function initMap() {
		const mapElement = document.getElementById('map-south');
		if (!mapElement) {
			return;
		}

		const infoWindow = new google.maps.InfoWindow();

		const locations = [
			{
				title: 'South Region Pool & Office (Charlotte Latin)',
				address: '9850 Providence Rd, Charlotte, NC 28277 (704) 846-5335',
				position: {
					lat: 35.075575,
					lng: -80.773947
				}
			}
		];

		const defaultCenter = locations.length > 0
			? locations[0].position
			: {lat: 35.2092443, lng: -80.8604379};

		const map = new google.maps.Map(mapElement, {
			zoom: 10,
			center: defaultCenter,
			mapTypeId: 'roadmap'
		});

		// Provide a single reusable info window so screen reader and memory usage stay lean.
		locations.forEach(function (location) {
			const marker = new google.maps.Marker({
				position: location.position,
				title: location.title,
				map: map
			});

			marker.addListener('click', function () {
				infoWindow.setContent(
					'<h3>' + location.title + '</h3><p>' + location.address + '</p>'
				);
				infoWindow.open(map, marker);
			});
		});
	}
</script>
